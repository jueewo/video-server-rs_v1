# Video Server Environment Configuration

# ==============================================================================
# OIDC Authentication (Casdoor)
# ==============================================================================

# Casdoor OIDC Issuer URL
# This is your Casdoor server URL
# Example: http://localhost:8000 or https://auth.example.com
OIDC_ISSUER_URL=http://localhost:8000

# OIDC Client ID
# This is the application ID from your Casdoor application configuration
OIDC_CLIENT_ID=your-client-id

# OIDC Client Secret
# This is the client secret from your Casdoor application configuration
OIDC_CLIENT_SECRET=your-client-secret

# OIDC Redirect URI
# This must match the redirect URI configured in your Casdoor application
# Default: http://localhost:3000/oidc/callback
OIDC_REDIRECT_URI=http://localhost:3000/oidc/callback

# ==============================================================================
# Casdoor Configuration Guide
# ==============================================================================
#
# 1. Create a new application in Casdoor:
#    - Go to your Casdoor admin panel
#    - Navigate to Applications
#    - Click "Add" to create a new application
#
# 2. Configure the application:
#    - Name: Video Server (or any name you prefer)
#    - Organization: Your organization
#    - Redirect URLs: http://localhost:3000/oidc/callback
#    - Grant types: authorization_code
#    - Response types: code
#    - Token format: JWT
#
# 3. Get your credentials:
#    - Client ID: Found in the application details
#    - Client Secret: Generated in the application details
#
# 4. Update the OIDC_ISSUER_URL:
#    - If Casdoor is running locally: http://localhost:8000
#    - If deployed: https://your-casdoor-domain.com
#
# 5. Copy this file to .env and update the values:
#    cp .env.example .env
#    # Edit .env with your actual values
#
# ==============================================================================
# Usage
# ==============================================================================
#
# The server will automatically load these environment variables on startup.
# If OIDC configuration fails, emergency login will still be available.
#
# Test your configuration:
# 1. Start the server: cargo run
# 2. Navigate to: http://localhost:3000/login
# 3. Click "Login with Appkask"
# 4. You should be redirected to your Casdoor login page
#
# ==============================================================================
# Production Deployment
# ==============================================================================
#
# For production:
# 1. Use HTTPS for all URLs
# 2. Store secrets securely (use secret management service)
# 3. Update redirect URIs to production domain
# 4. Enable CORS for production domain only
# 5. Use secure session cookies (already configured in code)
#
# Example production values:
# OIDC_ISSUER_URL=https://auth.appkask.com
# OIDC_CLIENT_ID=video-server-prod
# OIDC_CLIENT_SECRET=<secure-secret-from-vault>
# OIDC_REDIRECT_URI=https://video.appkask.com/oidc/callback
#
